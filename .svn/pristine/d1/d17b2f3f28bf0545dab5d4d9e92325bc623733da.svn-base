;============================================
;                  声明
; 该程序仅供参考若程序中存在疏漏， 
; 芯海科技有限公司对此不承担任何责任。
; (C)Shenzhen Chipsea Technologies Co.,Ltd
;============================================
; filename: main.asm
; chip    : CST18M88
; author  : CS0155
; date    : 2017-06-14
; v1.0
; 程序功能：详见readme.txt文档
; 程序历史：详见history.txt文档
;============================================
include CST34M98.inc
include	define_ram.inc
include CS_Macro.inc
;============================================
; program start
;============================================
	org		00h
   	dw		ffffh
	dw		ffffh
	goto	reset
	goto	reset
	org		04h
	goto	InterruptProc	
;============================================
; program body
;============================================
include		CS_LIB_Math.asm
include		CS_LIB_Time.asm
include		CS_34M98_initialization.asm
include		CS_34M98_Interrupt.asm
include		CS_34M98_Peripheral.asm
include 	CS_Init_Proc.asm 
include		CS_Application_Proc.asm

;============================================
; system reset
;============================================
reset:
	btfss	status,to
	goto	poweron_reset
	goto	standby_reset
poweron_reset:
    call	F_PowerOn_Proc
    goto	main
standby_reset:
	call	F_Standby_Proc
    goto 	main
;============================================
; main program
;============================================ 
main:
	btfss	R_Flag_Sys,B_AD_30MS
	goto	main
	
main_loop:	
	
	call	F_Application_Proc	
	
main_end:
	bcf		R_Flag_Sys,B_AD_30MS	
    goto 	main_loop


end
;============================================